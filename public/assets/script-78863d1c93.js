import passport from"../config/passport-google-oauth-strategy";$("#search_form").submit((function(t){t.preventDefault(),passport.checkAuthentication;let o=$("input").val();if(0==o.length)alert("Search text can not be empty!");else{let t,e,s;$("#result").html(""),$.get(`https://www.googleapis.com/books/v1/volumes?q=${o}&maxResults=40`,(function(a){for(i=0;i<a.items.length;i++){let n=a.items[i].volumeInfo;e=$('<h1 class="title-color">'+n.title+"</h1>"),e.appendTo("#result");let l="";if(n.authors)for(let t of n.authors)l+=t+" ",t=$('<h2 class="author-color">'+t+"</h2>"),t.appendTo("#result");else s=$('<h2 class="author-color"> author is unknown </h2>'),s.appendTo("#result");n.imageLinks?(t=$('<img> <p><a href="/users/bookdetail/?title='+n.title+"&authors="+l+"&thumbnail="+n.imageLinks.thumbnail+"&more="+n.infoLink+"&desc="+n.description+"&search="+o+'"><button id="sign-out-button">Read More</button></a></p>'),t.attr("src",n.imageLinks.thumbnail)):t=$('<h2 class="color-red"> Image is not found in google book database </h2> <p><a href="/users/bookdetail/?title='+n.title+"&authors="+l+"&thumbnail=no&more="+n.infoLink+"&desc="+n.description+"&search="+o+'"><button id="sign-out-button">Read More</button></a></p>'),t.appendTo("#result")}})).fail((function(){console.log("failing in get google api")}))}}));