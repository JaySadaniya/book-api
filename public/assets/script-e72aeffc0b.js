let searchText="";$("#search_form").submit((function(e){if(e.preventDefault(),searchText=$("input").val(),0==searchText.length)alert("Search text can not be empty!");else{let e,t,o;$.get(`https://www.googleapis.com/books/v1/volumes?q=${searchText}&maxResults=40`,(function(s){for(i=0;i<s.items.length;i++){let a=s.items[i].volumeInfo;a.imageLinks?(e=$('<img> <p><a href="/users/bookdetail/?title='+a.title+"&authors="+n+"&thumbnail="+a.imageLinks.thumbnail+"&more="+a.infoLink+"&desc="+a.description+"&search="+searchText+'"><button id="sign-out-button">Read More</button></a></p>'),e.attr("src",a.imageLinks.thumbnail)):e=$('<h2 class="color-red"> Image is not found in google book database </h2> <p><a href="/users/bookdetail/?title='+a.title+"&authors="+n+"&thumbnail=no&more="+a.infoLink+"&desc="+a.description+"&search="+searchText+'"><button id="sign-out-button">Read More</button></a></p>'),e.prependTo("#result");let n="";if(a.authors)for(let e of a.authors)n+=e+" ",e=$('<h2 class="author-color">'+e+"</h2>"),e.prependTo("#result");else o=$('<h2 class="author-color"> author is unknown </h2>'),o.prependTo("#result");t=$('<h1 class="title-color">'+a.title+"</h1>"),t.prependTo("#result")}})).fail((function(){console.log("failing in get google api")}))}}));